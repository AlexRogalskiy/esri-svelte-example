import{r as e,dY as d,dI as p}from"./vendor.5b1a85aa.js";async function a(a,l=a.popupTemplate){if(!e(l))return[];const t=await l.getRequiredFields(a.fieldsIndex),{lastEditInfoEnabled:n}=l,{objectIdField:i,typeIdField:s,globalIdField:u,relationships:o}=a;if(t.includes("*"))return["*"];const f=n?await d(a):[],r=p(a.fieldsIndex,[...t,...f]);return s&&r.push(s),r&&i&&a.fieldsIndex.has(i)&&-1===r.indexOf(i)&&r.push(i),r&&u&&a.fieldsIndex.has(u)&&-1===r.indexOf(u)&&r.push(u),o&&o.forEach((e=>{const{keyField:d}=e;r&&d&&a.fieldsIndex.has(d)&&-1===r.indexOf(d)&&r.push(d)})),r}function l(d,p){return d.popupTemplate?d.popupTemplate:e(p)&&p.defaultPopupTemplateEnabled&&e(d.defaultPopupTemplate)?d.defaultPopupTemplate:null}export{l as d,a as t};
