var h=Object.defineProperty,y=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var m=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))N.call(t,e)&&m(r,e,t[e]);if(c)for(var e of c(t))O.call(t,e)&&m(r,e,t[e]);return r},l=(r,t)=>y(r,J(t));import{aT as u,ej as R,af as a,ag as i,ah as w,cw as j,ei as v,dJ as F,e1 as $,E as k}from"./vendor.85f7dae5.js";function C(r){return{geometryType:u(r[0]),geometries:r.map(t=>t.toJSON())}}function T(r,t,e){const s=R(t);return r.map(f=>{const n=s.fromJSON(f);return n.spatialReference=e,n})}let o=class extends j{constructor(r){super(r),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],e={};return e.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),e.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),e.geometries=JSON.stringify({geometryType:u(t),geometries:r}),this.transformation&&(e.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(e.transformForward=this.transformForward),e}};a([i()],o.prototype,"geometries",void 0),a([i({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),a([i()],o.prototype,"transformation",void 0),a([i()],o.prototype,"transformForward",void 0),o=a([w("esri.rest.support.ProjectParameters")],o);const x=o,P=v(x);async function E(r,t,e){t=P(t);const s=F(r),f=p(l(p({},s.query),{f:"json"}),t.toJSON()),n=t.outSpatialReference,S=u(t.geometries[0]),d=$(f,e);return k(s.path+"/project",d).then(({data:{geometries:g}})=>T(g,S,n))}export{x as a,E as n,T as o,C as r};
