var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,n=(e,r)=>{for(var t in r||(r={}))s.call(r,t)&&i(e,t,r[t]);if(a)for(var t of a(r))o.call(r,t)&&i(e,t,r[t]);return e},u=(e,a)=>r(e,t(a));import{cP as p,cQ as c,L as l,ab as f,ad as m,cR as y}from"./vendor.d0a39f0f.js";import{u as b,d as B,c as d,p as g,f as v,o as j}from"./networkService.19b36319.js";import"./GPMessage.f41196e5.js";const w=j({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});let O=class extends y{constructor(e){super(e)}solve(e,r){return async function(e,r,t){const a=[],s=[],o={},i={},f=p(e),{path:m}=f;r.stops&&r.stops.features&&b(r.stops.features,s,"stops.features",o),r.pointBarriers&&r.pointBarriers.features&&b(r.pointBarriers.features,s,"pointBarriers.features",o),r.polylineBarriers&&r.polylineBarriers.features&&b(r.polylineBarriers.features,s,"polylineBarriers.features",o),r.polygonBarriers&&r.polygonBarriers.features&&b(r.polygonBarriers.features,s,"polygonBarriers.features",o);const y=await c(s);for(const n in o){const e=o[n];a.push(n),i[n]=y.slice(e[0],e[1])}if(B(i,a)){let e=null;try{e=await d(m,r.apiKey,t)}catch{}e&&!e.hasZ&&g(i,a)}for(const n in i)i[n].forEach(((e,t)=>{r.get(n)[t].geometry=e}));const j=u(n({},t),{query:u(n(n({},f.query),w.toQueryParams(r)),{f:"json"})}),O=m.endsWith("/solve")?m:`${m}/solve`,P=await l(O,j);return v(P)}(this.url,e,r)}};O=f([m("esri.tasks.RouteTask")],O);var P=O;export{P as default};
