import{eK as t,eL as n,ei as e,eM as a,eN as r,eO as s,eP as o,eQ as c,eR as u,eS as i,eT as h,eU as M,ec as f,ed as l,eV as _,e7 as q,ag as m,ao as p,eW as d}from"./vendor.d0a39f0f.js";function I(){return[1,0,0,0,1,0,0,0,1]}function g(t,n){return new Float64Array(t,n,9)}function A(){return[0,0,0,1]}function P(t){return[t[0],t[1],t[2],t[3]]}function b(t,n){return new Float64Array(t,n,4)}Object.freeze({__proto__:null,create:I,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,n,e,a,r,s,o,c,u){return[t,n,e,a,r,s,o,c,u]},createView:g});const j=[0,0,0,1];function x(t,n,e){e*=.5;const a=Math.sin(e);return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=Math.cos(e),t}function y(n,e){const a=2*Math.acos(e[3]),r=Math.sin(a/2);return r>t?(n[0]=e[0]/r,n[1]=e[1]/r,n[2]=e[2]/r):(n[0]=1,n[1]=0,n[2]=0),a}function V(t,n,e){const a=n[0],r=n[1],s=n[2],o=n[3],c=e[0],u=e[1],i=e[2],h=e[3];return t[0]=a*h+o*c+r*i-s*u,t[1]=r*h+o*u+s*c-a*i,t[2]=s*h+o*i+a*u-r*c,t[3]=o*h-a*c-r*u-s*i,t}function w(n,e,a,r){const s=e[0],o=e[1],c=e[2],u=e[3];let i,h,M,f,l,_=a[0],q=a[1],m=a[2],p=a[3];return h=s*_+o*q+c*m+u*p,h<0&&(h=-h,_=-_,q=-q,m=-m,p=-p),1-h>t?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-r)*i)/M,l=Math.sin(r*i)/M):(f=1-r,l=r),n[0]=f*s+l*_,n[1]=f*o+l*q,n[2]=f*c+l*m,n[3]=f*u+l*p,n}function z(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function O(t,n){const e=n[0]+n[4]+n[8];let a;if(e>0)a=Math.sqrt(e+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const r=(e+1)%3,s=(e+2)%3;a=Math.sqrt(n[3*e+e]-n[3*r+r]-n[3*s+s]+1),t[e]=.5*a,a=.5/a,t[3]=(n[3*r+s]-n[3*s+r])*a,t[r]=(n[3*r+e]+n[3*e+r])*a,t[s]=(n[3*s+e]+n[3*e+s])*a}return t}function T(t,n,e,a){const r=.5*Math.PI/180;n*=r,e*=r,a*=r;const s=Math.sin(n),o=Math.cos(n),c=Math.sin(e),u=Math.cos(e),i=Math.sin(a),h=Math.cos(a);return t[0]=s*u*h-o*c*i,t[1]=o*c*h+s*u*i,t[2]=o*u*i-s*c*h,t[3]=o*u*h+s*c*i,t}Object.freeze({__proto__:null,create:A,clone:P,fromValues:function(t,n,e,a){return[t,n,e,a]},createView:b,IDENTITY:j});const E=n,L=e,v=a,F=V,N=r,W=s,Y=o,D=c,K=D,Q=u,R=Q,S=i,U=h,X=M;const Z=m(),k=p(1,0,0),B=p(0,1,0);const C=[0,0,0,1],G=[0,0,0,1];const H=[1,0,0,0,1,0,0,0,1];Object.freeze({__proto__:null,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:x,getAxisAngle:y,multiply:V,rotateX:function(t,n,e){e*=.5;const a=n[0],r=n[1],s=n[2],o=n[3],c=Math.sin(e),u=Math.cos(e);return t[0]=a*u+o*c,t[1]=r*u+s*c,t[2]=s*u-r*c,t[3]=o*u-a*c,t},rotateY:function(t,n,e){e*=.5;const a=n[0],r=n[1],s=n[2],o=n[3],c=Math.sin(e),u=Math.cos(e);return t[0]=a*u-s*c,t[1]=r*u+o*c,t[2]=s*u+a*c,t[3]=o*u-r*c,t},rotateZ:function(t,n,e){e*=.5;const a=n[0],r=n[1],s=n[2],o=n[3],c=Math.sin(e),u=Math.cos(e);return t[0]=a*u+r*c,t[1]=r*u-a*c,t[2]=s*u+o*c,t[3]=o*u-s*c,t},calculateW:function(t,n){const e=n[0],a=n[1],r=n[2];return t[0]=e,t[1]=a,t[2]=r,t[3]=Math.sqrt(Math.abs(1-e*e-a*a-r*r)),t},slerp:w,random:function(t){const n=d(),e=d(),a=d(),r=Math.sqrt(1-n),s=Math.sqrt(n);return t[0]=r*Math.sin(2*Math.PI*e),t[1]=r*Math.cos(2*Math.PI*e),t[2]=s*Math.sin(2*Math.PI*a),t[3]=s*Math.cos(2*Math.PI*a),t},invert:function(t,n){const e=n[0],a=n[1],r=n[2],s=n[3],o=e*e+a*a+r*r+s*s,c=o?1/o:0;return t[0]=-e*c,t[1]=-a*c,t[2]=-r*c,t[3]=s*c,t},conjugate:z,fromMat3:O,fromEuler:T,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:E,set:L,add:v,mul:F,scale:N,dot:W,lerp:Y,length:D,len:K,squaredLength:Q,sqrLen:R,normalize:S,exactEquals:U,equals:X,rotationTo:function(t,n,e){const a=f(n,e);return a<-.999999?(l(Z,k,n),_(Z)<1e-6&&l(Z,B,n),q(Z,Z),x(t,Z,Math.PI),t):a>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(l(Z,n,e),t[0]=Z[0],t[1]=Z[1],t[2]=Z[2],t[3]=1+a,S(t,t))},sqlerp:function(t,n,e,a,r,s){return w(C,n,r,s),w(G,e,a,s),w(t,C,G,2*s*(1-s)),t},setAxes:function(t,n,e,a){const r=H;return r[0]=e[0],r[3]=e[1],r[6]=e[2],r[1]=a[0],r[4]=a[1],r[7]=a[2],r[2]=-n[0],r[5]=-n[1],r[8]=-n[2],S(t,O(t,r))}});export{x as A,T as C,y as I,U as N,V as P,I as a,b,j as c,A as e,P as r,g as t,z as w};
